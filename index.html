<!DOCTYPE html>
<html lang="en">
<head>
    <title>MJ16 Card Creater</title>

    <!-- Bootstrap -->
    <link href="bootstrap/css/bootstrap.min.css" rel="stylesheet">
    <link href="normalize.css" rel="stylesheet">



</head>

<body>

<script src="http://code.jquery.com/jquery-latest.js"></script>
<script src="http://code.jquery.com/ui/1.8.24/jquery-ui.min.js"></script>
<script src="bootstrap/js/bootstrap.min.js"></script>
<script type="text/javascript">
    function getCardType(id)
    {
        return (id - id%100)/100;
    }

    function getCardSN(id)
    {
        return (id%100 - id%10)/10;
    }
    function initCard(clonedCard, id, type, sn)
    {
        clonedCard.attr("id", id);

        clonedCard.html(sn + " " + getTypeName(type));

        return clonedCard;
    }
    function getTypeName(type)
    {
        var map = ["花", "萬", "條", "筒", "字"];
        return map[type]
    }

    $(document).ready(function()
    {
        var ids =
                [
                    110, 111, 112, 113, 120, 121, 122, 123, 130, 131, 132, 133,       //萬
                    140, 141, 142, 143, 150, 151, 152, 153, 160, 161, 162, 163,
                    170, 171, 172, 173, 180, 181, 182, 183, 190, 191, 192, 193,

                    210, 211, 212, 213, 220, 221, 222, 223, 230, 231, 232, 233,        //條
                    240, 241, 242, 243, 250, 251, 252, 253, 260, 261, 262, 263,
                    270, 271, 272, 273, 280, 281, 282, 283, 290, 291, 292, 293,

                    310, 311, 312, 313, 320, 321, 322, 323, 330, 331, 332, 333,        //筒
                    340, 341, 342, 343, 350, 351, 352, 353, 360, 361, 362, 363,
                    370, 371, 372, 373, 380, 381, 382, 383, 390, 391, 392, 393,

                    410, 411, 412, 413, 420, 421, 422, 423, 430, 431, 432, 433, 440, 441, 442, 443,//風，中發白
                    450, 451, 452, 453, 460, 461, 462, 463, 470, 471, 472, 473,

                    10, 20, 30, 40, 50, 60, 70, 80
                ];


      var card = $("a.btn-success").detach();
        for(var i = 0; i < ids.length; i++)
        {
            var id = ids[i];
            var type = getCardType(id);
            var sn = getCardSN(id);
            var c = initCard(card.clone(), id, type, sn);
            c.css("color", ["#ffffff", "#0000ff", "#00ff00", "#ff0000", "#550000"][type]);

            c.appendTo($("#cards"));
        }

      $("a").draggable();
      $("a").bind("dragstart", function(event, ui)
      {
      });

      $("a").bind("dragstop", function(event, ui)
      {
      });


        //********************************
        $("#cards").css("margin", 10);
//        $("#cards").droppable();
        $("#cards").sortable();
        $("#cards").bind("drop", function(event, ui)
        {
            ui.draggable.css("left", "");
            ui.draggable.css("top", "");
            ui.draggable.detach().appendTo(event.target);

        });



      $("#seat1,#seat2, #seat3, #seat4").droppable();
//      $("#seat1,#seat2, #seat3, #seat4").sortable();
      $("#seat1, #seat2, #seat3, #seat4").bind("dropover", function(event, ui)
        {
            $(event.target).css("background-color", "#00ff00");
        });
      $("#seat1, #seat2, #seat3, #seat4").bind("dropout", function(event, ui)
        {
            $(event.target).css("background-color", "");
        });

      $("#seat1, #seat2, #seat3, #seat4").bind("drop", function(event, ui)//dropdeactivate     drop
      {
          $(event.target).css("background-color", "");
          ui.draggable.css("left", "");
          ui.draggable.css("top", "");
          ui.draggable.detach().appendTo(event.target);

      });


        $("button.order");



    });

</script>

<div id="cards" class="span12">
<h1>牌牌牌區</h1>

    <div class="btn-group">
        <button class="btn">1</button>
        <button class="btn">2</button>
        <button class="btn">3</button>
    </div>


    <!--<div id="type1" class="span12">        </div>-->

</div>

<br>
<br>

<div id="seat1" class="span12">
    <div class="btn-toolbar">
        <div class="btn-group">
            <button class="btn btn-warning">玩家 1</button>
        </div>
        <div class="btn-group">
            <button class="btn">排序</button>
            <button class="btn">2</button>
            <button class="btn">3</button>
        </div>
    </div>

</div>

<div id="seat2" class="span12">
    <div class="btn-toolbar">
        <div class="btn-group">
            <button class="btn btn-warning">玩家 2</button>
        </div>
        <div class="btn-group">
            <button class="btn order">排序</button>
            <button class="btn">2</button>
            <button class="btn">3</button>
        </div>
    </div>

</div>

<div id="seat3" class="span12">
    <div class="btn-toolbar">
        <div class="btn-group">
            <button class="btn btn-warning">玩家 3</button>
        </div>
        <div class="btn-group">
            <button class="btn order">排序</button>
            <button class="btn">2</button>
            <button class="btn">3</button>
        </div>
    </div>

</div>

<div id="seat4" class="span12">
    <div class="btn-toolbar">
        <div class="btn-group">
            <button class="btn btn-warning">玩家 4</button>
        </div>
        <div class="btn-group">
            <button class="btn order">排序</button>
            <button class="btn">2</button>
            <button class="btn">3</button>
        </div>
    </div>
</div>


</body>
<a class="btn btn-success">Card</a>


</html>